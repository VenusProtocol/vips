import { parseUnits } from "ethers/lib/utils";

import { ProposalType } from "../../src/types";
import { makeProposal } from "../../src/utils";
import { BigNumber } from "ethers";

export const VTREASURY = "0xF322942f644A996A617BD29c16bd7d231d9F35E9";
export const TOKEN_REDEEMER = "0xC53ffda840B51068C64b2E052a5715043f634bcd";
export const VAI_CONTROLLER = "0x004065D34C6b18cE4370ced1CeBDE94865DbFAFE";
export const VAI = "0x4BD17003473389A42DAF6a0a729f6Fdb328BbBd7";

// We don't have enough DAI in treasury, so we transfer USDT to cover for DAI debt
export const USDT = "0x55d398326f99059fF775485246999027B3197955";
export const COMMUNITY_WALLET = "0xc444949e0054a23c44fc45789738bdf64aed2391";
export const COMMUNITY_WALLET_USDT_AMOUNT = parseUnits("636.088367745766859294", 18);

export const vTokenConfigs = {
  "vUSDC": {
    "address": "0xecA88125a5ADbe82614ffC12D0DB554E2e2867C8",
    "underlying": "0x8AC76a51cc950d9822D68b83fE1Ad97B32Cd580d"
  },
  "vUSDT": {
    "address": "0xfD5840Cd36d94D7229439859C0112a4185BC0255",
    "underlying": "0x55d398326f99059fF775485246999027B3197955"
  },
  "vBUSD": {
    "address": "0x95c78222B3D6e262426483D42CfA53685A67Ab9D",
    "underlying": "0xe9e7CEA3DedcA5984780Bafc599bD69ADd087D56"
  },
  "vSXP": {
    "address": "0x2fF3d0F6990a40261c66E1ff2017aCBc282EB6d0",
    "underlying": "0x47BEAd2563dCBf3bF2c9407fEa4dC236fAbA485A"
  },
  "vXVS": {
    "address": "0x151B1e2635A717bcDc836ECd6FbB62B674FE3E1D",
    "underlying": "0xcF6BB5389c92Bdda8a3747Ddb454cB7a64626C63"
  },
  "vBNB": {
    "address": "0xA07c5b74C9B40447a954e1466938b865b6BBea36",
    "underlying": "0x0000000000000000000000000000000000000000"
  },
  "vBTC": {
    "address": "0x882C173bC7Ff3b7786CA16dfeD3DFFfb9Ee7847B",
    "underlying": "0x7130d2A12B9BCbFAe4f2634d864A1Ee1Ce3Ead9c"
  },
  "vETH": {
    "address": "0xf508fCD89b8bd15579dc79A6827cB4686A3592c8",
    "underlying": "0x2170Ed0880ac9A755fd29B2688956BD959F933F8"
  },
  "vLTC": {
    "address": "0x57A5297F2cB2c0AaC9D554660acd6D385Ab50c6B",
    "underlying": "0x4338665CBB7B2485A8855A139b75D5e34AB0DB94"
  },
  "vXRP": {
    "address": "0xB248a295732e0225acd3337607cc01068e3b9c10",
    "underlying": "0x1D2F0da169ceB9fC7B3144628dB156f3F6c60dBE"
  },
  "vBCH": {
    "address": "0x5F0388EBc2B94FA8E123F404b79cCF5f40b29176",
    "underlying": "0x8fF795a6F4D97E7887C79beA79aba5cc76444aDf"
  },
  "vDOT": {
    "address": "0x1610bc33319e9398de5f57B33a5b184c806aD217",
    "underlying": "0x7083609fCE4d1d8Dc0C979AAb8c869Ea2C873402"
  },
  "vLINK": {
    "address": "0x650b940a1033B8A1b1873f78730FcFC73ec11f1f",
    "underlying": "0xF8A0BF9cF54Bb92F17374d9e9A321E6a111a51bD"
  },
  "vDAI": {
    "address": "0x334b3eCB4DCa3593BCCC3c7EBD1A1C1d1780FBF1",
    "underlying": "0x1AF3F329e8BE154074D8769D1FFa4eE058B1DBc3"
  },
  "vFIL": {
    "address": "0xf91d58b5aE142DAcC749f58A49FCBac340Cb0343",
    "underlying": "0x0D8Ce2A99Bb6e3B7Db580eD848240e4a0F9aE153"
  },
  "vBETH": {
    "address": "0x972207A639CC1B374B893cc33Fa251b55CEB7c07",
    "underlying": "0x250632378E573c6Be1AC2f97Fcdf00515d0Aa91B"
  },
  "vCAN": {
    "address": "0xeBD0070237a0713E8D94fEf1B728d3d993d290ef",
    "underlying": "0x20bff4bbEDa07536FF00e073bd8359E5D80D733d"
  },
  "vADA": {
    "address": "0x9A0AF7FDb2065Ce470D72664DE73cAE409dA28Ec",
    "underlying": "0x3EE2200Efb3400fAbB9AacF31297cBdD1d435D47"
  },
  "vDOGE": {
    "address": "0xec3422Ef92B2fb59e84c8B02Ba73F1fE84Ed8D71",
    "underlying": "0xbA2aE424d960c26247Dd6c32edC70B295c744C43"
  },
  "vMATIC": {
    "address": "0x5c9476FcD6a4F9a3654139721c949c2233bBbBc8",
    "underlying": "0xCC42724C6683B7E57334c4E856f4c9965ED682bD"
  },
  "vCAKE": {
    "address": "0x86aC3974e2BD0d60825230fa6F355fF11409df5c",
    "underlying": "0x0E09FaBB73Bd3Ade0a17ECC321fD13a19e81cE82"
  },
  "vAAVE": {
    "address": "0x26DA28954763B92139ED49283625ceCAf52C6f94",
    "underlying": "0xfb6115445Bff7b52FeB98650C87f44907E58f802"
  },
  "vTUSDOLD": {
    "address": "0x08CEB3F4a7ed3500cA0982bcd0FC7816688084c3",
    "underlying": "0x14016E85a25aeb13065688cAFB43044C2ef86784"
  },
  "vTRXOLD": {
    "address": "0x61eDcFe8Dd6bA3c891CB9bEc2dc7657B3B422E93",
    "underlying": "0x85EAC5Ac2F758618dFa09bDbe0cf174e7d574D5B"
  },
  "vUST": {
    "address": "0x78366446547D062f45b4C0f320cDaa6d710D87bb",
    "underlying": "0x3d4350cD54aeF9f9b2C29435e0fa809957B3F30a"
  },
  "vLUNA": {
    "address": "0xb91A659E88B51474767CD97EF3196A3e7cEDD2c8",
    "underlying": "0x156ab3346823B651294766e23e6Cf87254d68962"
  },
  "vTRX": {
    "address": "0xC5D3466aA484B040eE977073fcF337f2c00071c1",
    "underlying": "0xCE7de646e7208a4Ef112cb6ed5038FA6cC6b12e3"
  },
  "vWBETH": {
    "address": "0x6CFdEc747f37DAf3b87a35a1D9c8AD3063A1A8A0",
    "underlying": "0xa2E3356610840701BDf5611a53974510Ae27E2e1"
  },
  "vTUSD": {
    "address": "0xBf762cd5991cA1DCdDaC9ae5C638F5B5Dc3Bee6E",
    "underlying": "0x40af3827F39D0EAcBF4A168f8D4ee67c121D11c9"
  },
  "vUNI": {
    "address": "0x27FF564707786720C71A2e5c1490A63266683612",
    "underlying": "0xBf5140A22578168FD562DCcF235E5D43A02ce9B1"
  },
  "vFDUSD": {
    "address": "0xC4eF4229FEc74Ccfe17B2bdeF7715fAC740BA0ba",
    "underlying": "0xc5f0f7b66764F6ec8C8Dff7BA683102295E16409"
  }
}

export const shortfalls = {
  "vUSDC": {
    "0x9bf1b39fa47cfe771d9d128e8ffe3df9fb50eced": parseUnits("89.348625493603747615", 18), // $89.344158062329067427
    "0x351ebf35cc555490bd28d751bf6d54358773334d": parseUnits("19.143049757050690315", 18), // $19.14209260456283778
    "0x76ce2da97a527c4012033084305ffb10346653bf": parseUnits("37.600613695460794978", 18), // $37.598733664776021938
    "0x735ab81c3370e20c12ec757fd4db0787092310b5": parseUnits("28.781213950481367452", 18), // $28.779774889783843383
    "0xf3f826735402c8ac133692e69a7d1d94c62f2a9d": parseUnits("28.594210151313095244", 18), // $28.592780440805529589
    "0x8dcf5f960c38fd1861a4d036513adde829d63d81": parseUnits("54.672269582997048963", 18), // $54.66953596951789911
    "0xcd7868b784a7a6db12dd4f1c95f1e88bd6b986fc": parseUnits("38.520870703730745686", 18), // $38.518944660195559148
    "0x7e39da354b7880a8ba1777fc767b5e510472e2ad": parseUnits("17.577624170589569135", 18), // $17.576745289381039656
    "0xcf9d75350579e152787791d9449128c461c2ce95": parseUnits("25.763315116776017507", 18), // $25.762026951020178706
    "0xe7404e8c8c5607aea3ddfc6820c143bd21e750a1": parseUnits("39.030769086318698235", 18), // $39.0288175478643823
    "0x98e241bd3be918e0d927af81b430be00d86b04f9": parseUnits("16.354155429990625274", 18), // $16.353337722219125742
    "0x76201de145eb4a8d0eb5815eda2acf82c511fa33": parseUnits("19.777348782441364839", 18), // $19.77635991500224277
    "0xd2d4836ce7177c3098ad035556f2287def16d8f3": parseUnits("34.074852968597949001", 18), // $34.073149225949519103
    "0x9fc2019edb6b6f52d7a5e17c96f90de437e57214": parseUnits("33.568112848472562138", 18), // $33.566434442830138509
    "0x8b2e3b199dbfbc8868d6983a2d681797f18b18dc": parseUnits("35.498557450719024567", 18), // $35.496782522846488615
    "0xdbcd11bb04cdd8eeefd0097a418ecd77a659aa95": parseUnits("32.175930636774576322", 18), // $32.174321840242737593
    "0xbc3b137d9cb043ac1bdb718b155818da216b0612": parseUnits("31.893615028389520838", 18), // $31.892020347638101361
    "0x3b052f0a3cfe703b63ac6fe688bbf16a67ecf738": parseUnits("28.170366268693758526", 18), // $28.168957750380323838
    "0x9896e0de6df819a8db7e2c3eb6454d435c487fba": parseUnits("28.130212351281766269", 18), // $28.12880584066420218
    "0x304e15aecbf27b4ab54014a1febcc922e66c9ffc": parseUnits("28.675394332396635886", 18), // $28.673960562680016054
    "0xad1babc32846660a14cc0e8f827eeb19f15cd7d4": parseUnits("26.936019694675609576", 18), // $26.934672893690875795
    "0x1e85d99e182557960e2b86bb53ca417007eed16a": parseUnits("26.350412637562222554", 18), // $26.349095116930344442
    "0xac0c96c50bb4080bcb920a7c84dc23f0decddbd6": parseUnits("26.103914244975197596", 18), // $26.102609049262948836
    "0x49f37709ec3f43821fe9b73ecae23c954dc10284": parseUnits("20.498344686415679666", 18), // $20.497319769181358882
    "0xd34bc82b9092f5334056dac1af8cd5d32abc6802": parseUnits("19.368061138681391606", 18), // $19.367092735624457536
    "0xb1f1bd5c278e4966912da53319ab4c2e6c6da13a": parseUnits("18.699072762461610733", 18), // $18.698137808823487652
    "0xd6e821914c494ef28a88ada67fe982f98e420e3b": parseUnits("17.35199594064060543", 18), // $17.351128340843573399
    "0x8273479049c1beccd3e827c597a9668afe9db682": parseUnits("16.726535529033643671", 18), // $16.725699202257191988
    "0xecfa4334a731872f9c06f977bb1a4fa27dd04e76": parseUnits("19.303189544757240902", 18), // $19.302224385280003039
    "0x49fe0651abc53286e8b691165aeb42c1db2c5745": parseUnits("16.284167306771455561", 18), // $16.283353098406116988
    "0xa98ed62a5c1c9736f25d00c867311e4ea88949dc": parseUnits("16.965905706261469141", 18), // $16.965057410976156067
    "0x473477a15413a681d3a041afffdffee56734103a": parseUnits("15.694294232421991942", 18), // $15.693509517710370842
    "0x0fe11130b1819e2e3e5e5308b9ea16ffda2032a6": parseUnits("15.936445253152712627", 18), // $15.935648430890054991
    "0xe3b4dd8fbf5e3ad008e0e6453c37fb00592979dd": parseUnits("15.978826452080260187", 18), // $15.978027510757656173
    "0x81f174760bccf8ffd01bfb23e059e65effbcd653": parseUnits("17.268582147274081792", 18), // $17.267718718166718087
    "0xba248273cf458b604ee8a6d5fe802b7858365c6c": parseUnits("15.183117926811258552", 18), // $15.182358770914917989
    "0xf036b29c8d40f505ff1ebf2100d27ca3fcabe616": parseUnits("15.332231603115238618", 18), // $15.331464991535082856
  }, // total: 987.332224613171228944 USDC = $987.282858001940570382

  "vUSDT": {
    "0x9c8f3cb0a022e6bdaaf3047f5f8db7f97b65d8af": parseUnits("99.702506122024570835", 18), // $99.604797666024986755
    "0x23ccc77aeb5c8be6820303d4a77a6a4f2fdba534": parseUnits("99.701332533659333759", 18), // $99.603625227776347611
    "0xe2c9439969fc07c7739c920cc298c404663c0ed7": parseUnits("83.021375589449006946", 18), // $82.940014641371346919
    "0xbaef9372a4973ee5c0701bac607a9bfecb0088ef": parseUnits("21.717095939801813295", 18), // $21.695813185780807517
    "0x351ebf35cc555490bd28d751bf6d54358773334d": parseUnits("17.1357142946099411", 18), // $17.118921294601223357
    "0xa1ca4ed7d4252c6bea2f285e34819c2d80cac5c8": parseUnits("15.601640842143836129", 18), // $15.586351234118535169
    "0x7261c1a6a47e596dfcf0e2f21140217acc5eded8": parseUnits("24.963148620410043613", 18), // $24.93868473476204177
    "0x735ab81c3370e20c12ec757fd4db0787092310b5": parseUnits("28.470928844529376562", 18), // $28.443027334261737772
    "0xf3f826735402c8ac133692e69a7d1d94c62f2a9d": parseUnits("28.549571493499250595", 18), // $28.521592913435621329
    "0x7b899b97afacd8b9654a447b4db016ba430f6d11": parseUnits("56.376008515352972182", 18), // $56.320760027007926269
    "0x34cf7c3156511edece563e677dff64c21a1ccac5": parseUnits("34.706037539411996877", 18), // $34.67202562262337312
    "0xe548c0d06ec0d3a40f4157269ed35fbdb779db1f": parseUnits("46.164112669031654512", 18), // $46.11887183861600349
    "0xe80bbb610de5c8e5aa9da3a2423ac18376d99ad5": parseUnits("45.678964376146345501", 18), // $45.634198991057722082
    "0x14f47b11aad2c9de8cb0728cd30556d578872f62": parseUnits("44.999447603511246259", 18), // $44.955348144859805237
    "0xb6217be0f1fcc4408cd33b68489d9c7817d81ecd": parseUnits("43.607390300871470606", 18), // $43.564655058376616564
    "0x127c5a508b24eb7c198a4e89cf27ca2cf0315811": parseUnits("43.302299199452143746", 18), // $43.259862946236680645
    "0x4db4c33b3571c5402774790eff5ca7763b6b792e": parseUnits("40.586068858722552889", 18), // $40.546294511241004787
    "0x3870b06837f7a0a49897347e5a62d7412db0fa28": parseUnits("38.874521725952772902", 18), // $38.836424694661339184
    "0x8915cf710645794dad5eaee96b3e56675bf62651": parseUnits("37.040211892038947793", 18), // $37.003912484384749624
    "0x22f9f04aed1b2045f9183a3db0592ec6506d2020": parseUnits("33.625197613761572952", 18), // $33.59224492010008661
    "0xe47215fdc9de6fabb9965a94f301836f9522b88a": parseUnits("30.303696455582166249", 18), // $30.273998833055695726
    "0xf43baa74b8f9047ba06cd357ff2c78d39f97a296": parseUnits("30.124962026597717481", 18), // $30.095439563811651717
    "0x03dd789c22ad82fc9acc0b86ed08e0bfe0697313": parseUnits("29.359708949261641334", 18), // $29.330936434491364925
    "0xbb20d7fb3cf15f5db693cb23f3eac76f74e0e1ff": parseUnits("18.381481221066325146", 18), // $18.363467369469680147
    "0x7eb163e6d0562d8534ab198551b7bf8815371152": parseUnits("28.199011651735663419", 18), // $28.171376620316962468
    "0x84ddc9accd3dd04915b89b31072c7e588a97844b": parseUnits("27.76819149931054039", 18), // $27.74097867164121606
    "0xa2e8714f04e7b05209aa6db025c2026e829399a2": parseUnits("27.25413606928689502", 18), // $27.227427015938993862
    "0x22a81f0499b42206884b9206d586d8eb1ac22d2a": parseUnits("27.831624860948737983", 18), // $27.804349868585008219
    "0xe1b843a85211aa037dc959232246b03e7f44aed4": parseUnits("26.539762154954119153", 18), // $26.513753188042264116
    "0x7b4a19605cf074b0d4eff6ab87582c2dd1654cc9": parseUnits("19.013364041670542236", 18), // $18.994730944909705104
    "0xd8d4a214659ba8db1a5aa8a082ae20effb60321c": parseUnits("15.518558550616082882", 18), // $15.50335036323647912
    "0x55f6dc97d739f52d66c7332c2f93016a4c9d852d": parseUnits("24.056599753106762695", 18), // $24.033024285348718067
    "0x4bb129e1c30f8a85dfc3ef596f23fd5631246200": parseUnits("22.729018606594414957", 18), // $22.70674416835995243
    "0x3e0bfddacdc2de361b6cd2dcad746f744ef5a6ba": parseUnits("22.117891622504089766", 18), // $22.096216088714035758
    "0xb38a6184069cf136ee9d145c6acf564dd10fd195": parseUnits("21.671059427178593339", 18), // $21.649821788939958317
    "0xf3eb92e219d2629a1fd28af0df418de0cb859c66": parseUnits("21.720438652565519517", 18), // $21.699152622686005307
    "0xe60461918aa015ab244141545f56851ed10ffffb": parseUnits("21.919692490599084235", 18), // $21.898211191958297132
    "0x5c3306c73723b125ce210a8e9cd7be2a6e53e2c0": parseUnits("25.067148318486359452", 18), // $25.042582513134242819
    "0xa1424a713ea7cc8f8d1b390d894f5f3f2fbc0082": parseUnits("18.919228634176924677", 18), // $18.90068779011543129
    "0x84ad103b3df212c9ac7bb8612ebb102a7c89d31d": parseUnits("23.778098682176152181", 18), // $23.754796145467619551
    "0xafee962e996e79048e55a1906f12b4663e2daaff": parseUnits("17.7109436319593964", 18), // $17.693586907200076191
    "0xd11ea24e640650727040c34a71cc89e4f8ed1c8c": parseUnits("17.548954228672804495", 18), // $17.531756253528705146
    "0xf091ef1d92595ddfc62438d31f7a6c6d23fca5c9": parseUnits("17.66559366895877653", 18), // $17.648281387163196929
    "0xf970d3b78adf0cdfd63d9dca2c4dbeca7554c695": parseUnits("17.581298270963024271", 18), // $17.564068598657480507
    "0x5f9819d38b7db58abf2472337bf76cb5b4bc5f5e": parseUnits("17.298180670933973289", 18), // $17.281228453876457995
    "0x45aad5194ec51cba7ef231e345e2493789ae25bd": parseUnits("17.55948200450489229", 18), // $17.542273712140477495
    "0x6ac4526fec3e4aa6b5758785e3ed6dff9dbd97f7": parseUnits("17.588825294030588843", 18), // $17.571588245242438865
    "0x41d4882934ee4ca33cd675d9cf46b905a0588337": parseUnits("16.161214706061156561", 18), // $16.145376715649216627
    "0x7159c28faf17d0b447941550d81371b1b8f49ab2": parseUnits("16.104527213538466321", 18), // $16.088744776869198624
    "0x17dcdd137d155892f5fab670aedb8d14e31b79fc": parseUnits("19.615674218726887424", 18), // $19.596450857992535074
    "0xb98fe52b9d7be52270ff6fb21d04ca2f160e56bd": parseUnits("19.433942624584730711", 18), // $19.414897360812637674
    "0x0bd68142afed52a77243bb4e5e1ac4f8f518a9a8": parseUnits("15.632019769041266439", 18), // $15.616700389667605997
    "0x168f7339be5cb41b2a2ed4b80f6a4bfdc77e93ca": parseUnits("15.177323767603669433", 18), // $15.162449990311417836
    "0xa9364084f75af39c58569057f9381f8e16badad7": parseUnits("15.412025043642831821", 18), // $15.396921259100061845
    "0xea170221d5c3da5c29b032cd56ea03871d764c5c": parseUnits("15.392348123191183373", 18), // $15.377263622030456013
    "0x98941901ced735d1f94bb83ef2c8d1f4e692a127": parseUnits("15.373655753005579529", 18), // $15.358589570367634061
    "0xfb98c01b757d6f427cf28f6ed5ac0027d831764f": parseUnits("15.607500780345908141", 18), // $15.592205429581169151
    "0xf2031e18ac1b28ee40bb8d51f9a0cf232e36c14b": parseUnits("15.115373598070823724", 18), // $15.100560531944714316
  }, // total: 1668.07613161063514076 USDT = $1666.441417001656718322

  "vBNB": {
    "0x351ebf35cc555490bd28d751bf6d54358773334d": parseUnits("0.058688778485505128", 18), // $35.193827587838026036
    "0xa1ca4ed7d4252c6bea2f285e34819c2d80cac5c8": parseUnits("0.031230247025209035", 18), // $18.727803810097279493
    "0x69abf7d07de0a12aa314d1d43448ea0508c6af7a": parseUnits("0.06102719668627645", 18), // $36.596103953268499744
    "0x249169274d1e6aa08db770f7c4e70644eb6f64f5": parseUnits("0.044627474699323345", 18), // $26.761702846422283477
    "0x40c7c2373885e206907bee7ce1e4beda9c50ad97": parseUnits("0.050687645094455992", 18), // $30.39579777126203566
    "0x797b00ff517ed9b755e8039ee092ba9d1890b9ae": parseUnits("0.072271519987956204", 18), // $43.33897347335851007
    "0x7e39da354b7880a8ba1777fc767b5e510472e2ad": parseUnits("0.041642602088625281", 18), // $24.971767960343294558
    "0x2ed6c6c921eb1931a44a95f11404ddc2d24b0f27": parseUnits("0.034821791793916759", 18), // $20.881541042762965059
    "0x198470f81ef5cf37da68eb9b3cc2cd2ed5514869": parseUnits("0.063854170430271644", 18), // $38.291351820219491281
    "0xec91a4d1c50e42b99ca94097e9c4668ec2b256f1": parseUnits("0.057069012398464452", 18), // $34.222504451269153728
    "0x3280283f05a9788109207171a7174d93b4646153": parseUnits("0.028741816794736781", 18), // $17.235569915380348393
    "0x815862b59f243b47c6a958b608979d2bf07164a4": parseUnits("0.038487079794344446", 18), // $23.079499788465650557
    "0x5eee8c6508204590f4eeeb7b940db271572c8733": parseUnits("0.035081293695633793", 18), // $21.037156228892644099
    "0x23db408d6a20ab4938118bccab6f694ec63ee001": parseUnits("0.044158201363774752", 18), // $26.480294282654921638
    "0x78f6c2458b53d0735208992c693bb2b2dafebb52": parseUnits("0.032607830163283165", 18), // $19.553897395624330763
    "0xf1ef6884963e2e488c8492cd529cfbc9ef45e8a9": parseUnits("0.031906862678864643", 18), // $19.13354908666440078
  }, // total: 0.72690352318064187 BNB = $435.901341414523835343

  "vBTC": {
    "0x1c634804ba4f83a66134cd92961066f7adc6b928": parseUnits("0.000329900720135006", 18), // $22.398948706024012107
    "0x9020e26fd2c0d1978f44e4041df820bdbd7b6b47": parseUnits("0.000289501519424318", 18), // $19.656003422022342584
    "0x8b6af5deafa172f296e8b0fdc2438b715eca88ba": parseUnits("0.000254041442111478", 18), // $17.248405001149212286
  }, // total: 0.000873443681670802 BTCB = $59.303357129195566978

  "vETH": {
    "0xa1ca4ed7d4252c6bea2f285e34819c2d80cac5c8": parseUnits("0.00854997085422682", 18), // $32.646750813440100405
    "0x7261c1a6a47e596dfcf0e2f21140217acc5eded8": parseUnits("0.009846627372310925", 18), // $37.597834619250657422
    "0x6f9ac5b3fa4308620c6763d9aa5a65446e75f5b5": parseUnits("0.005366097401463745", 18), // $20.489618934739338322
    "0x580c94f13317ba56d2bb2a0b4a9e118233499247": parseUnits("0.004121365284357104", 18), // $15.73680048079373893
    "0x0e13fedf04712185432fd66402f0d2f8ab3e1a9f": parseUnits("0.00767438773880437", 18), // $29.30347113763619454
    "0xc0ffa6361fbddbe751314fe9defeead3a668083b": parseUnits("0.004480796070092893", 18), // $17.109231743620122024
    "0xdf0cfda3122215e4adecc56971a7bafa15b63e7d": parseUnits("0.005014985019539019", 18), // $19.148950219530423381
  }, // total: 0.045054229740794876 ETH = $172.032657949010575029

  "vBCH": {
    "0x395d2c9a76658d2566682f0f32e7711ecefee005": parseUnits("0.048469728383679786", 18), // $22.734422073932506127
    "0xaaa85d882c0aa0d5bc070dadeeb730aed3fe11c1": parseUnits("0.035563735331009597", 18), // $16.680946984902737128
  }, // total: 0.084033463714689383 BCH = $39.415369058835243255

  "vDAI": {
    "0xbaef9372a4973ee5c0701bac607a9bfecb0088ef": parseUnits("30.27283369465598904", 18), // $30.257311904635728074
    "0x667fe4a12662bef3a11add557ef4bd78e46f9ca2": parseUnits("50.460950641440451198", 18), // $50.435077798218065435
    "0xe62721e908b7cbd4f92a014d5ccf07adbf71933b": parseUnits("48.206037970425070791", 18), // $48.181321288576494744
    "0x45ebad8de2b2cf538d6842977326b942434d513f": parseUnits("34.740808150784012985", 18), // $34.722995496220861498
    "0x1bdf46142f95784b5009bb9a559bccd7297ab9f9": parseUnits("33.464181144488969079", 18), // $33.447023054890755249
    "0x643dd5714664d710dfc3b7a741ad271c29738b76": parseUnits("31.041211054343563936", 18), // $31.02529529419967036
    "0xbb20d7fb3cf15f5db693cb23f3eac76f74e0e1ff": parseUnits("15.730978862565192888", 18), // $15.722913117772989836
    "0x9a80db8298eda731a763d9e4cda2dd32b8f21d04": parseUnits("30.687425147359662725", 18), // $30.671690783863857005
    "0x9190281d94f2876c425680839fad3965e4de016c": parseUnits("20.332252259483359758", 18), // $20.321827303782354854
    "0xb72a82070497d543099e2149c06cf1cb9e436b48": parseUnits("22.610212915130067134", 18), // $22.598619980662092494
    "0xf11b1e1d2afffde4bdad9131dcfdb7ecfe0f1a66": parseUnits("21.05449245143981951", 18), // $21.043697181525192771
    "0x42a0a42d46a621451031d678cf3b2f4a1cecad9b": parseUnits("19.024690029389960513", 18), // $19.014935500071191398
  }, // total: 357.626074321506119557 DAI = $357.442708704419253724

  "vFIL": {
    "0x2981f3927c93ac67329b0bf5160a7a8bed14bea5": parseUnits("3.331529577287203423", 18), // $19.975851345414071724
  }, // total: 3.331529577287203423 FIL = $19.975851345414071724

  "vBETH": {
    "0x6f9ac5b3fa4308620c6763d9aa5a65446e75f5b5": parseUnits("0.004261564230398356", 18), // $16.239770120566578638
  }, // total: 0.004261564230398356 BETH = $16.239770120566578638

  "vADA": {
    "0x79d4afa8af6c3a4d78601320efccbea14a4b9baa": parseUnits("40.871852368859737676", 18), // $18.88072277406105024
  }, // total: 40.871852368859737676 ADA = $18.88072277406105024

  "vDOGE": {
    "0x567b3e6e49814300f80dfd22ca18cb972b43edd5": parseUnits("119.73935752", 8), // $19.8431249054512864
    "0x746a95a9ba1521c5f2bc64034279968ea9113c9e": parseUnits("135.04857369", 8), // $22.3801577988766908
  }, // total: 254.78793121 DOGE = $42.2232827043279772

  "vCAKE": {
    "0xc7722a05ada594b71e63b96b6268c4fd57d3d489": parseUnits("16.702571640295331703", 18), // $48.86433439965617549
  }, // total: 16.702571640295331703 Cake = $48.86433439965617549

  "vTUSDOLD": {
    "0xbaef9372a4973ee5c0701bac607a9bfecb0088ef": parseUnits("23.347606362552125373", 18), // $23.308048746568116932
    "0x2c56a0fb49ce0ff4ff7fe39bc94b031c3cd78ce4": parseUnits("69.976259646490893661", 18), // $69.857699569534440604
    "0x23280d961a9e0f1e2e173d36d8695800fe58e0ba": parseUnits("38.081674284319469175", 18), // $38.017152884396289541
    "0x86324371bdda1fa4d71a60f615bd2d07a8f9a725": parseUnits("36.782333678931093285", 18), // $36.720013738802217122
    "0x3ffd359b2d3416847d95a7f59270f1ed69fb3643": parseUnits("35.585417654344705088", 18), // $35.525125637067125397
    "0xca37830aee0b59249b3c6583ed0522603d00f3ef": parseUnits("26.566706798604412742", 18), // $26.521695092942605271
  }, // total: 230.339998425242699324 TUSD = $229.94973566931079487

} // total across all markets: $4093.953406272918411195

export const vTokenWithdrawals = {
} // total: $0.0

export const underlyingWithdrawals = {
  "vUSDC": parseUnits("2371.254428291868522494", 18), // $2371.135865570453929067
  "vUSDT": parseUnits("3558.842516499929659771", 18), // $3555.354850833759728704
  "vBUSD": parseUnits("51.560406721017138624", 18), // $51.560406721017138624
  "vSXP": parseUnits("528.167961901411360062", 18), // $3.16900777140846816
  "vXVS": parseUnits("0.191501860657698048", 18), // $2.018165549416476526
  "vBNB": parseUnits("5.412921655102637829", 18), // $3245.960069235498904488
  "vBTC": parseUnits("0.014269776096922876", 18), // $968.861124979117858008
  "vETH": parseUnits("0.262804555100064948", 18), // $1003.478838614670201383
  "vLTC": parseUnits("2.092222063426973403", 18), // $174.903119165854899103
  "vXRP": parseUnits("244.686842057118579506", 18), // $129.918313941542538178
  "vBCH": parseUnits("0.393436707393494669", 18), // $184.539019786909017094
  "vDOT": parseUnits("6.684739000129446843", 18), // $49.845495953988194706
  "vLINK": parseUnits("12.211773311406626418", 18), // $228.117334817833650926
  "vDAI": parseUnits("405.317272401585042669", 18), // $405.10945407650657797
  "vFIL": parseUnits("11.981529942798777725", 18), // $71.841253537021471239
  "vBETH": parseUnits("0.059368539680176057", 18), // $226.238860820753328304
  "vADA": parseUnits("252.843620475815907255", 18), // $116.800928431396415768
  "vDOGE": parseUnits("2130.43436228", 8), // $353.0541338216752496
  "vMATIC": parseUnits("30.989183216106714101", 18), // $22.99634864746103212
  "vCAKE": parseUnits("73.859903735653073602", 18), // $216.0813982775140163
  "vAAVE": parseUnits("0.679651058129503029", 18), // $72.774044839851414531
  "vTUSDOLD": parseUnits("653.69667882052469294", 18), // $652.589127074565866157
  "vTRXOLD": parseUnits("944.03845916921150724", 18), // $105.480107552584633956
  "vTRX": parseUnits("60.351209", 6), // $6.74321258251565
  "vWBETH": parseUnits("0.056076891952705543", 18), // $222.52949172995022928
  "vTUSD": parseUnits("1.349231953511239096", 18), // $1.346945963304724538
} // total: $14442.446920296571614731

export const vaiDebts = {
  "0x404555fb2123b96627b68c9b1c5a3b4c9d36ef98": parseUnits("94.65908368696534239", 18), // $94.65908368696534239
  "0x2841a8d1f552eb5142d948944d6d6e8231e5ebcc": parseUnits("85.315203955403291181", 18), // $85.315203955403291181
  "0x9db07ba5467d6362de77c253cb758aea8a36619b": parseUnits("69.200595297616048456", 18), // $69.200595297616048456
  "0x76ce2da97a527c4012033084305ffb10346653bf": parseUnits("27.903607224545127706", 18), // $27.903607224545127706
  "0xca85abc41032e2f9de31c578e33da1318dde9671": parseUnits("62.67298813270047177", 18), // $62.67298813270047177
  "0x2f102886c106278863b16105d35c19a8e7322e74": parseUnits("31.071188110185702467", 18), // $31.071188110185702467
  "0x249169274d1e6aa08db770f7c4e70644eb6f64f5": parseUnits("22.063402363456652417", 18), // $22.063402363456652417
  "0x2ed6c6c921eb1931a44a95f11404ddc2d24b0f27": parseUnits("17.549861764812729699", 18), // $17.549861764812729699
  "0x1b9b40975d6d64852d6de3a5b0cf795cc9e03f8d": parseUnits("38.899871637915492733", 18), // $38.899871637915492733
  "0x76dfb8072ffc9e79ecb6dcc01190d09864523079": parseUnits("38.974932041653093957", 18), // $38.974932041653093957
  "0x41bb7e07633303a66ddcb02a4f7e08264239062f": parseUnits("35.445331075041403978", 18), // $35.445331075041403978
  "0x2ae81f6141e02833b9e88b2eae4e265705634019": parseUnits("21.627816530700435338", 18), // $21.627816530700435338
  "0x76201de145eb4a8d0eb5815eda2acf82c511fa33": parseUnits("19.715790442738027107", 18), // $19.715790442738027107
  "0xb9d3697bb207db2c8ab98884501231e62e21632c": parseUnits("34.88623969888030801", 18), // $34.88623969888030801
  "0x9b8e207f746bc5262618483caa7ec1ed99201476": parseUnits("34.640055403019573025", 18), // $34.640055403019573025
  "0x29234d86f9003fec7fc4d0643823c8d9d47ac943": parseUnits("34.564085869367770407", 18), // $34.564085869367770407
  "0xa1acaddd259649d470b42c95738e5e89c8d8a233": parseUnits("34.437467366388152473", 18), // $34.437467366388152473
  "0xc591a9072eda0d2db2979af6f365d46180b2f6ed": parseUnits("33.957153785070288782", 18), // $33.957153785070288782
  "0xdcdb02fb3fe25bb28e86ccd1af17e14567fb8131": parseUnits("33.856164782236171411", 18), // $33.856164782236171411
  "0xa12a607637c4e35ecb9c69f455e93e8e874bd74e": parseUnits("33.412460454350181252", 18), // $33.412460454350181252
  "0x801ef5a8579bab7b2d00f2d063763930e931ad56": parseUnits("32.552661650713646005", 18), // $32.552661650713646005
  "0x7584a28ed8a5b7c2fe361b3681c76141afdcc4ef": parseUnits("32.07780528158567069", 18), // $32.07780528158567069
  "0x4e2525b997b630eb980d906a476e4bbfcb837f1f": parseUnits("33.068113052534916381", 18), // $33.068113052534916381
  "0x2153b504e24c7be7001dfa8c7e99753d2f76b7d5": parseUnits("31.398017804494434516", 18), // $31.398017804494434516
  "0x47e9c4fb5e89df43b556c0e8132699decf5690cd": parseUnits("31.065066101624433534", 18), // $31.065066101624433534
  "0xd06cd78c722d0e71231604defd35b8ecb85682f5": parseUnits("31.661397519151610044", 18), // $31.661397519151610044
  "0x8309167fbe39d9d1ac1319de64116dc888c67914": parseUnits("29.892412427235433296", 18), // $29.892412427235433296
  "0xa56da3f2f56a6ab19e60439507b83ec2a0ef9977": parseUnits("29.638045283667934273", 18), // $29.638045283667934273
  "0x7e282aa1f6398ec47e445e9172c6d19f5e45f4fd": parseUnits("29.407784080176151806", 18), // $29.407784080176151806
  "0x0fba6f55ae77aefef51d94a2855a32c3036a5a40": parseUnits("28.774523552487259494", 18), // $28.774523552487259494
  "0x9cd54c9e3b11df9d9aa8b85223c44f7b14fd2201": parseUnits("28.531125784535818514", 18), // $28.531125784535818514
  "0x5939c08b04777559887ebc7c2c12dcdbb2db31e4": parseUnits("28.325925782379465892", 18), // $28.325925782379465892
  "0xac77a490f5ed4e226b311c4745f6df6ffa277a99": parseUnits("28.297628154225240652", 18), // $28.297628154225240652
  "0xf1079a89e0bdbc1229c5e2c1e6721441b698d1f6": parseUnits("29.693190064068532753", 18), // $29.693190064068532753
  "0x6224fdc568cb0982fbbdea66bb69d34159112cbd": parseUnits("28.358298268987899567", 18), // $28.358298268987899567
  "0x80ab20d6aced0dff7a52578a14ef503a235dea09": parseUnits("26.894235035399134757", 18), // $26.894235035399134757
  "0xd58bb0803f6add91ba146f8468d90e5740e8b625": parseUnits("26.120686768597994059", 18), // $26.120686768597994059
  "0x261afb1a86b5f7d47f0507fff26f4e5d0766f53f": parseUnits("26.027518144994695865", 18), // $26.027518144994695865
  "0x82e679f570250058077fd0f8b16bdc9991bb2625": parseUnits("25.42096548028004929", 18), // $25.42096548028004929
  "0x54fe512251a6b2fceb582455c69ee6a3e3961e64": parseUnits("25.105855948843648428", 18), // $25.105855948843648428
  "0x9fc995ba59c0a74d38400a268f507ea189c29bee": parseUnits("25.586423098342939538", 18), // $25.586423098342939538
  "0x347a421071ae514a4072528a1518f22821ad4b8a": parseUnits("24.466407426358678683", 18), // $24.466407426358678683
  "0x8432ffcc3b670020ba80d5be5f7ef4eef8f83234": parseUnits("24.286892532903156633", 18), // $24.286892532903156633
  "0xbb3f76d9de40ed3bfcf4a1ee1c4b65250ac4aa53": parseUnits("23.850755370263012776", 18), // $23.850755370263012776
  "0x4b08b1914598778df35ee16d87dcff4ef8cc09e4": parseUnits("22.02459825738818419", 18), // $22.02459825738818419
  "0x8018e5ce93fcceff7002c1d9b9b5f2a18f7a0002": parseUnits("20.415433315650426115", 18), // $20.415433315650426115
  "0x0dd103cc94de87d19d4a11300f753cb327753d97": parseUnits("20.022868306270945012", 18), // $20.022868306270945012
  "0xc9cce1ae1a4d665debe5f819103bf53360b97570": parseUnits("19.395946271567580965", 18), // $19.395946271567580965
  "0xeb7d4e71acd204edd3c05c55b420e353f226fd5a": parseUnits("22.072807962793930228", 18), // $22.072807962793930228
  "0x67808cd3a04a3a06cc847d14e49f3298ffa1e391": parseUnits("19.156951495765368119", 18), // $19.156951495765368119
  "0xfd29989edf1556093ecd1f97284e54fd5cd6c885": parseUnits("17.861126681503556601", 18), // $17.861126681503556601
  "0xb9068dd4152213940877d1c8bd5ff71356473a99": parseUnits("17.37226351792756517", 18), // $17.37226351792756517
  "0xf79b84ba047a3d754f3f7b01d29c91bec30a0020": parseUnits("17.307417969789765067", 18), // $17.307417969789765067
  "0x9221cf5a464f3191240c4c88886275d97a45c711": parseUnits("17.853480733382473387", 18), // $17.853480733382473387
  "0xd1a5d6b23e15e010a19f8a6e39fad78ab255bb9b": parseUnits("16.272771557807053394", 18), // $16.272771557807053394
  "0x822d0a914b4e38e49eab17d52912861463cff79c": parseUnits("16.193317711255676967", 18), // $16.193317711255676967
  "0x2e9d4e001fd48eb5d4210b98249cca7209cd6290": parseUnits("18.393458300246406423", 18), // $18.393458300246406423
  "0x0d3153ee663b15755b5484b910de3967c6c06765": parseUnits("15.085015797950394706", 18), // $15.085015797950394706
  "0x12797d5934d9da3e1467c985734ea6ee51519617": parseUnits("17.755530051663341764", 18), // $17.755530051663341764
  "0x829c18d4f51191fb0f1b05c5d0e7fd07dec7455d": parseUnits("18.045627843342250126", 18), // $18.045627843342250126
  "0x894733b02ae0ea2735126bc65a5d40965bae0939": parseUnits("16.025101686668086469", 18), // $16.025101686668086469
}; // total: 1796.608751697871026708 VAI = $1796.608751697871026708

export const totalVAIDebt = parseUnits("9264.694461793362582944", 18);

export const plainTransfers = [
  "vBUSD", "vSXP", "vXVS", "vLTC", "vXRP", "vDOT", "vLINK", "vMATIC", "vAAVE", "vTRXOLD", "vTRX", "vWBETH", "vTUSD"
] as const;

export const expectedCommunityWithdrawals = {
  "vUSDC": parseUnits("1383.92220367869729355", 18), // $1383.853007568513358685
  "vUSDT": parseUnits("1890.766384889294519011", 18), // $1888.913433832103010382
  "vBUSD": parseUnits("51.560406721017138624", 18), // $51.560406721017138624
  "vSXP": parseUnits("528.167961901411360062", 18), // $3.16900777140846816
  "vXVS": parseUnits("0.191501860657698048", 18), // $2.018165549416476526
  "vBNB": parseUnits("4.686018131921995959", 18), // $2810.058727820975069144
  "vBTC": parseUnits("0.013396332415252074", 18), // $909.55776784992229103
  "vETH": parseUnits("0.217750325359270072", 18), // $831.446180665659626354
  "vLTC": parseUnits("2.092222063426973403", 18), // $174.903119165854899103
  "vXRP": parseUnits("244.686842057118579506", 18), // $129.918313941542538178
  "vBCH": parseUnits("0.309403243678805286", 18), // $145.123650728073773839
  "vDOT": parseUnits("6.684739000129446843", 18), // $49.845495953988194706
  "vLINK": parseUnits("12.211773311406626418", 18), // $228.117334817833650926
  "vDAI": parseUnits("683.779565825845782406", 18), // $683.428971529059896497
  "vFIL": parseUnits("8.650000365511574302", 18), // $51.865402191607399514
  "vBETH": parseUnits("0.055106975449777701", 18), // $209.999090700186749665
  "vADA": parseUnits("211.971768106956169579", 18), // $97.920205657335365528
  "vDOGE": parseUnits("1875.64643107", 8), // $310.8308511173472724
  "vMATIC": parseUnits("30.989183216106714101", 18), // $22.99634864746103212
  "vCAKE": parseUnits("57.157332095357741899", 18), // $167.217063877857840809
  "vAAVE": parseUnits("0.679651058129503029", 18), // $72.774044839851414531
  "vTUSDOLD": parseUnits("423.356680395281993616", 18), // $422.639391405255071287
  "vTRXOLD": parseUnits("944.03845916921150724", 18), // $105.480107552584633956
  "vTRX": parseUnits("60.351209", 6), // $6.74321258251565
  "vWBETH": parseUnits("0.056076891952705543", 18), // $222.52949172995022928
  "vTUSD": parseUnits("1.349231953511239096", 18), // $1.346945963304724538
  "VAI": parseUnits("7468.085710095491556236", 18), // $7468.085710095491556236
} // total: $18452.341450276118282127
// We withdraw part of the DAI debt as USDT because we do not have enough DAI in treasury
expectedCommunityWithdrawals["vDAI"] = expectedCommunityWithdrawals["vDAI"].sub(COMMUNITY_WALLET_USDT_AMOUNT);
expectedCommunityWithdrawals["vUSDT"] = expectedCommunityWithdrawals["vUSDT"].add(COMMUNITY_WALLET_USDT_AMOUNT);

export const entries = <K extends string, V>(r: Record<K, V>): [K, V][] => {
  return Object.entries(r) as [K, V][];
};

export const vip315 = () => {
  const meta = {
    version: "v2",
    title: "VIP-315 Partial shortfall repayment",
    description: ``,
    forDescription: "Execute this proposal",
    againstDescription: "Do not execute this proposal",
    abstainDescription: "Indifferent to execution",
  };

  const withdraw = (symbol: keyof typeof vTokenConfigs, underlyingAmount: BigNumber) => {
    if (symbol === "vBNB") {
      return {
        target: VTREASURY,
        signature: "withdrawTreasuryBNB(uint256,address)",
        params: [underlyingAmount, TOKEN_REDEEMER],
      }
    }
    return {
      target: VTREASURY,
      signature: "withdrawTreasuryBEP20(address,uint256,address)",
      params: [vTokenConfigs[symbol].underlying, underlyingAmount, TOKEN_REDEEMER],
    }
  }

  return makeProposal(
    [
      /*
      ...entries(vTokenWithdrawals).map(([symbol, vTokenAmount]) => ({
        target: VTREASURY,
        signature: "withdrawTreasuryBEP20(address,uint256,address)",
        params: [vTokenConfigs[symbol].address, vTokenAmount, TOKEN_REDEEMER],
      })),
      */
      ...entries(underlyingWithdrawals).map(
        ([symbol, underlyingAmount]) => withdraw(symbol, underlyingAmount)
      ),
      {
        target: VTREASURY,
        signature: "withdrawTreasuryBEP20(address,uint256,address)",
        params: [VAI, totalVAIDebt, TOKEN_REDEEMER],
      },
      ...entries(shortfalls).map(([symbol, borrows]) => ({
        target: TOKEN_REDEEMER,
        signature: "redeemAndBatchRepay(address,(address,uint256)[],address)",
        params: [vTokenConfigs[symbol].address, Object.entries(borrows), COMMUNITY_WALLET],
      })),
      ...plainTransfers.map((symbol) => ({
        target: TOKEN_REDEEMER,
        signature: "redeemAndTransfer(address,address)",
        params: [vTokenConfigs[symbol].address, COMMUNITY_WALLET],
      })),
      {
        target: TOKEN_REDEEMER,
        signature: "batchRepayVAI(address,(address,uint256)[],address)",
        params: [VAI_CONTROLLER, Object.entries(vaiDebts), COMMUNITY_WALLET],
      },
      {
        target: VTREASURY,
        signature: "withdrawTreasuryBEP20(address,uint256,address)",
        params: [USDT, COMMUNITY_WALLET_USDT_AMOUNT, COMMUNITY_WALLET],
      },
    ],
    meta,
    ProposalType.REGULAR,
  );
};

export default vip315;
